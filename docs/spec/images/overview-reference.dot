// This is the overview graph for object refrences in the control plane.
//
// To reproduce the PNG, run the following:
// $ dot -Tpng overview-reference.dot -o overview-reference.png
//
digraph G {
  dir=TB; 
  node [shape=rectangle; width=1.4; height=.5; fixedsize=true;]

  Flow;
  Source;
  Provisioner;
  EventType;

  SourceType [label="Source"; style=dashed];
  Action [style=dashed];
  Trigger [style=dashed];

  Service [style=dotted];

  Bus;
  Channel;
  Subscription;

  Provisioner -> EventType;
  Source -> Provisioner;
 
  Flow -> Source;
  Flow -> Trigger;
  Flow -> Action;

  Channel -> Bus;
 
  Subscription -> SourceType;
  Subscription -> Action;
  Subscription -> EventType;

  Trigger -> EventType; 

  Action -> Channel;
  Action -> Service;

  SourceType -> Source;
  SourceType -> Channel;

  {rank=same; SourceType, Action, Trigger};

 // {rank=min; Flow; Source;}
}
